*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background: linear-gradient(135deg,#0b1020,#0f172a 55%,#0b1323);
  color:#e5e7eb; min-height:100vh;
}

/* NAV */
.navbar{display:flex;justify-content:space-between;align-items:center;padding:1rem 2rem;background:rgba(11,19,35,0.85);box-shadow:0 4px 12px rgba(0,0,0,0.25);position:sticky; top:0; z-index:10}
.logo{font-family:'Montserrat',sans-serif;font-weight:900;font-size:1.8rem;color:#a78bfa;text-decoration:none}
.nav-links{list-style:none;display:flex;gap:1.2rem;margin:0;padding:0;flex-wrap:wrap}
.nav-links a{color:#cbd5e1;text-decoration:none;padding:.5rem 1rem;border-radius:12px;transition:.3s;display:inline-block;line-height:1}
.nav-links a:hover,.nav-links a.active{background:rgba(167,139,250,.2);color:#fff}
.hamburger{display:none;background:rgba(15,21,38,0.6);border:none;width:34px;height:30px;padding:0;cursor:pointer;border-radius:8px;line-height:0;position:relative}
.hamburger .bar{position:relative;display:block;width:14px;height:2px;background:#cbd5e1;margin:0 auto}
.hamburger .bar::before,.hamburger .bar::after{content:"";position:absolute;left:0;right:0;margin:auto;width:14px;height:2px;background:#cbd5e1}
.hamburger .bar::before{transform:translateY(-6px)} .hamburger .bar::after{transform:translateY(6px)}
@media (max-width:860px){.nav-links{display:none}.hamburger{display:inline-flex;margin-left:auto}.navbar{padding:1rem 1rem}}

/* HERO */
.hero{text-align:center;padding:3rem 1rem 3.25rem}
.hero-content h1{font-family:'Montserrat',sans-serif;font-weight:900;font-size:2.3rem;margin-bottom:.85rem;color:#f8fafc}
.hero-content p{color:#cbd5e1}

/* LAYOUT */
.shell{display:flex;justify-content:center;padding:0 1rem 2.2rem}
.workbench{width:100%;max-width:1100px;display:grid;grid-template-columns:1.1fr .9fr;gap:26px;align-items:stretch}
@media (max-width:980px){.workbench{grid-template-columns:1fr}}
.left-col{display:flex;flex-direction:column;gap:24px}
.fill{height:100%}
.stretch{align-self:stretch}

/* CARDS */
.card{
  background: rgba(17,24,39,0.6);
  border:1px solid rgba(148,163,184,0.18);
  border-radius:22px; padding:24px;
  box-shadow:0 10px 28px rgba(0,0,0,.35);
  display:flex; flex-direction:column;
}
.card-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:14px}
.card-head h2,.card-head h3{font-family:'Montserrat',sans-serif;color:#cbd5e1}
.eye{width:26px;height:26px;border-radius:999px;background:radial-gradient(10px 10px at 50% 50%, rgba(255,255,255,.2), rgba(255,255,255,0) 60%), rgba(17,24,39,0.7);border:1px solid rgba(255,255,255,.08)}

/* CHIPS */
.chip{background:#12192c;border:1px solid rgba(255,255,255,.08);border-radius:999px;padding:.28rem .6rem;color:#cbd5e1;font-size:.86rem}
.chip.server{background:rgba(6,182,212,.15);border-color:rgba(6,182,212,.25);color:#9ee7f7}
.chip.cap{background:rgba(139,92,246,.15);border-color:rgba(139,92,246,.25);color:#d9c6ff}

/* GROUPS */
.group{display:flex;flex-direction:column;gap:.55rem}
.group label{font-weight:600;color:#cbd5e1}
input[type=text], input[type=number], select{
  width:100%; padding:.9rem 1.05rem; border-radius:12px; border:1px solid rgba(255,255,255,0.10);
  background:#0f1526; color:#e8ecf6; font-size:1rem; transition:.2s; min-height:48px;
}
input:focus, select:focus{background:#111a30;border-color:#7f89ff;outline:none}
.whisper{color:#a9c3ff;font-style:italic}

/* GRID */
.grid-3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:14px;margin-top:14px}
@media (max-width:680px){.grid-3{grid-template-columns:1fr}}

/* DROPZONE */
.dropzone{
  position:relative; border:1px dashed rgba(148,163,184,0.25);
  background:rgba(15,21,38,.45); border-radius:16px; padding:18px;
  cursor:pointer; transition:.2s;
}
.dropzone.drag{border-color:rgba(139,92,246,.55); box-shadow:0 0 0 3px rgba(139,92,246,.18) inset}
.dropzone:hover{border-color:rgba(255,255,255,.25); background:rgba(15,21,38,.55)}
.dz-inner{display:flex; gap:12px; align-items:center}
.dz-ico{font-size:1.4rem}
.dz-text strong{font-weight:800}
.dz-sub{color:#aeb9d4;font-size:.9rem;margin-top:4px}
.link-btn{background:none;border:none;color:#9ab7ff;cursor:pointer;text-decoration:underline;padding:0}

/* GLOBAL DROP OVERLAY â€” full-screen blurred veil */
.global-drop{
  position:fixed; inset:0; z-index:12000;
  pointer-events:none; opacity:0; transform:translateY(6px);
  background: rgba(10,16,30,0.45);
  backdrop-filter: blur(10px) saturate(120%);
  -webkit-backdrop-filter: blur(10px) saturate(120%);
  box-shadow: inset 0 0 0 1px rgba(148,163,184,0.15);
  transition: opacity .25s ease, transform .25s ease;
}
.global-drop.show{opacity:1; transform:translateY(0)}
.gd-panel{
  position:absolute; left:50%; top:50%; transform:translate(-50%,-50%);
  background: rgba(17,24,39,0.85);
  border: 1px dashed rgba(148,163,184,.38);
  border-radius: 16px;
  padding: 22px 26px;
  box-shadow: 0 16px 40px rgba(0,0,0,.5);
}
.gd-ico{text-align:center; font-size:1.4rem; margin-bottom:8px}
.gd-text{text-align:center; color:#e6edff; font-weight:800; letter-spacing:.2px}

/* COLLAPSIBLE */
.addon{margin-top:14px;border:1px dashed rgba(148,163,184,0.25);border-radius:16px}
.addon summary{cursor:pointer;user-select:none;padding:14px}
.addon[open]{background:rgba(15,21,38,.45)}
.collapsible{overflow:clip;border-radius:16px}
.collapsible summary::-webkit-details-marker{display:none}
.collapsible .anim-wrap{
  overflow:hidden; max-height:0; opacity:0; transform:translateY(-4px);
  transition:max-height .42s cubic-bezier(.22,.61,.36,1), opacity .32s ease, transform .32s ease;
}
.collapsible[open] .anim-wrap{opacity:1; transform:translateY(0)}

/* ACTIONS */
.actions{display:flex;justify-content:flex-end;margin-top:14px;gap:10px}
.stick-bottom{margin-top:auto}
.btn{background:#0f1526;color:#e5e7eb;border:1px solid rgba(255,255,255,.12);padding:.9rem 1.3rem;border-radius:12px;cursor:pointer;transition:.2s}
.btn:hover{border-color:rgba(255,255,255,.22);background:#101a2e}
.btn.primary{background:linear-gradient(45deg,#8b5cf6,#06b6d4);color:#0b1323;border:none}
.btn:disabled{opacity:.6;cursor:not-allowed}

/* RESULT */
.result-card{display:flex;flex-direction:column}
.status-wrap{display:flex;flex-direction:column;gap:14px}
.status-line{color:#aeb9d4}
.dim{opacity:.9}
.progress{height:10px;background:#0c1426;border:1px solid rgba(255,255,255,.08);border-radius:999px;overflow:hidden}
.progress .bar{height:100%;width:0;background:linear-gradient(90deg,#22c55e,#f59e0b,#ef4444);transition:width .45s cubic-bezier(.22,.61,.36,1)}
.stack{display:flex;flex-direction:column;gap:14px}
.kpi{background:#0f1526;border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:14px}
.kpi-num{font-size:1.2rem;font-weight:800}
.kpi-label{color:#aeb9d4;font-size:.9rem;margin-top:4px}
.mt-1{margin-top:8px}
.bloc{background:#0f1526;border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:14px}
.bloc.subtle-bloc{background:#0e1527b3}
.quick-link{display:inline-block;background:#0f1526;border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:.8rem 1rem;color:#e5e7eb;text-decoration:none}
.quick-link:hover{background:#101a2e;border-color:rgba(255,255,255,.22)}
.hidden{display:none}

/* FOOTER */
.footer{text-align:center;padding:1.2rem;color:#9ca3af;margin-top:10px}

/* ROUTE + DRAWER */
:root{ --route-dur:.45s; --route-ease:cubic-bezier(.22,.61,.36,1) }
.page-curtain{ position:fixed; inset:0; pointer-events:none; z-index:9999; background: rgba(10,16,30,.72);
  backdrop-filter: blur(14px); opacity:0; transform: translateY(10px);
  transition: opacity var(--route-dur) var(--route-ease), transform var(--route-dur) var(--route-ease);}
.route-content{ opacity:0; transform: translateY(10px) scale(.995);
  transition: opacity var(--route-dur) var(--route-ease), transform var(--route-dur) var(--route-ease);}
.route-ready .route-content{ opacity:1; transform: translateY(0) scale(1) }

.mobile-drawer{position:fixed;top:0;right:0;bottom:0;width:72%;max-width:300px;background:rgba(15,21,38,0.96);border-left:1px solid rgba(255,255,255,.08);box-shadow:-20px 0 40px rgba(0,0,0,.45);transform:translateX(100%);transition:transform .32s cubic-bezier(.22,.61,.36,1);z-index:10000;padding:16px 14px 20px}
.mobile-drawer.open{transform:translateX(0)}
.drawer-nav{display:flex;flex-direction:column;gap:10px;margin-top:6px}
.drawer-nav a{color:#e5e7eb;text-decoration:none;padding:.85rem .9rem;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#0f1526}
.drawer-nav a.active{background:rgba(167,139,250,.2);color:#fff}
.drawer-backdrop{position:fixed;inset:0;background:rgba(8,12,22,.55);backdrop-filter: blur(2px);z-index:9999}
.no-scroll{overflow:hidden}

/* ========================================
   DROPDOWN MENU STYLES (4th Dropdown Support)
   ======================================== */

.nav-links {
  list-style: none;
  display: flex;
  gap: 0.3rem;
  margin: 0;
  padding: 0;
  align-items: center;
  flex-wrap: nowrap;
}

.nav-item {
  position: relative;
}

.nav-link {
  color: #cbd5e1;
  text-decoration: none;
  padding: 0.65rem 1rem;
  border-radius: 12px;
  transition: .3s;
  display: flex;
  align-items: center;
  gap: 0.25rem;
  font-size: 0.9rem;
  font-weight: 500;
  white-space: nowrap;
}

.nav-link:hover {
  background: rgba(167, 139, 250, .15);
  color: #fff;
}

.nav-link .arrow {
  font-size: 0.65rem;
  transition: transform 0.3s;
}

.dropdown:hover .arrow {
  transform: rotate(180deg);
}

/* Dropdown Menu */
.dropdown-menu {
  position: absolute;
  top: calc(100% + 0.5rem);
  left: 0;
  background: rgba(17, 24, 39, 0.98);
  border: 1px solid rgba(148, 163, 184, 0.2);
  border-radius: 14px;
  min-width: 180px;
  padding: 0.5rem;
  opacity: 0;
  visibility: hidden;
  transform: translateY(-10px);
  transition: all 0.3s cubic-bezier(.22, .61, .36, 1);
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(10px);
  z-index: 1000;
  max-height: 400px;
  overflow-y: auto;
}

/* Right-align last dropdown to prevent overflow */
.nav-item:last-child .dropdown-menu {
  left: auto;
  right: 0;
}

.dropdown:hover .dropdown-menu {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.dropdown-item {
  display: block;
  padding: 0.75rem 1rem;
  color: #cbd5e1;
  text-decoration: none;
  border-radius: 10px;
  transition: .2s;
  font-size: 0.95rem;
  white-space: nowrap;
}

.dropdown-item:hover {
  background: rgba(139, 92, 246, .2);
  color: #fff;
  transform: translateX(4px);
}

.dropdown-item.active {
  background: rgba(139, 92, 246, .25);
  color: #a78bfa;
  font-weight: 600;
}

/* Mobile Drawer Enhancements */
.drawer-section {
  margin-bottom: 1.5rem;
}

.drawer-label {
  color: #94a3b8;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 1px;
  font-weight: 700;
  padding: 0.5rem 0.9rem;
  margin-bottom: 0.5rem;
}

.drawer-divider {
  height: 1px;
  background: rgba(148, 163, 184, 0.15);
  margin: 1rem 0;
}

/* Scrollbar for long dropdown */
.dropdown-menu::-webkit-scrollbar {
  width: 6px;
}

.dropdown-menu::-webkit-scrollbar-track {
  background: rgba(15, 23, 42, 0.5);
  border-radius: 10px;
}

.dropdown-menu::-webkit-scrollbar-thumb {
  background: rgba(139, 92, 246, 0.4);
  border-radius: 10px;
}

.dropdown-menu::-webkit-scrollbar-thumb:hover {
  background: rgba(139, 92, 246, 0.6);
}

/* Hide dropdowns on mobile */
@media (max-width:860px) {
  .nav-links {
    display: none;
  }
}

/* Disabled dropdown items */
.dropdown-item.disabled {
  color: #64748b;
  opacity: 0.5;
  cursor: not-allowed;
  pointer-events: none;
}

.dropdown-item.disabled:hover {
  background: transparent;
  transform: none;
}

