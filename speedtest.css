/* SPEED TEST - BLITZ DESIGN SYSTEM */
/* Uses base styles from main BLITZ CSS */

/* Import base styles if separate, or copy them here */
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background: linear-gradient(135deg,#0b1020,#0f172a 55%,#0b1323);
  color:#e5e7eb; min-height:100vh;
}

/* ========================================
   NAVBAR WITH DROPDOWN MENUS - FIXED
   ======================================== */

.navbar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:1rem 1.5rem;
  background:rgba(11,19,35,0.85);
  box-shadow:0 4px 12px rgba(0,0,0,0.25);
  position:sticky;
  top:0;
  z-index:100;
}

.logo{
  font-family:'Montserrat',sans-serif;
  font-weight:900;
  font-size:1.6rem;
  color:#a78bfa;
  text-decoration:none;
  flex-shrink:0;
}

.nav-links{
  list-style:none;
  display:flex;
  gap:0.3rem;
  margin:0;
  padding:0;
  align-items:center;
  flex-shrink:0;
}

.nav-item{
  position:relative;
}

.nav-link{
  color:#cbd5e1;
  text-decoration:none;
  padding:0.65rem 1rem;
  border-radius:12px;
  transition:.3s;
  display:flex;
  align-items:center;
  gap:0.25rem;
  font-size:0.9rem;
  font-weight:500;
  white-space:nowrap;
}

.nav-link:hover{
  background:rgba(167,139,250,.15);
  color:#fff;
}

.nav-link .arrow{
  font-size:0.65rem;
  transition:transform 0.3s;
}

.dropdown:hover .arrow{
  transform:rotate(180deg);
}

/* Dropdown Menu - TEJAS FIX! ðŸ”¥ */
.dropdown-menu{
  position:absolute;
  top:calc(100% + 0.5rem);
  left:0;
  background:rgba(17,24,39,0.98);
  border:1px solid rgba(148,163,184,0.2);
  border-radius:14px;
  min-width:150px;
  padding:0.5rem;
  opacity:0;
  visibility:hidden;
  transform:translateY(-10px);
  transition:all 0.3s cubic-bezier(.22,.61,.36,1);
  box-shadow:0 10px 40px rgba(0,0,0,0.5);
  backdrop-filter:blur(10px);
  z-index:1000;
}

/* Right-align the last dropdown (Calculators) to prevent overflow */
.nav-item:last-child .dropdown-menu{
  left:auto;
  right:0;
}

.dropdown:hover .dropdown-menu{
  opacity:1;
  visibility:visible;
  transform:translateY(0);
}

.dropdown-item{
  display:block;
  padding:0.75rem 1rem;
  color:#cbd5e1;
  text-decoration:none;
  border-radius:10px;
  transition:.2s;
  font-size:0.95rem;
  white-space:nowrap;
}

.dropdown-item:hover{
  background:rgba(139,92,246,.2);
  color:#fff;
  transform:translateX(4px);
}

.dropdown-item.active{
  background:rgba(139,92,246,.25);
  color:#a78bfa;
  font-weight:600;
}

/* Mobile Hamburger */
.hamburger{
  display:none;
  background:rgba(15,21,38,0.6);
  border:none;
  width:34px;
  height:30px;
  padding:0;
  cursor:pointer;
  border-radius:8px;
  line-height:0;
  position:relative;
  flex-shrink:0;
}

.hamburger .bar{
  position:relative;
  display:block;
  width:14px;
  height:2px;
  background:#cbd5e1;
  margin:0 auto;
}

.hamburger .bar::before,.hamburger .bar::after{
  content:"";
  position:absolute;
  left:0;
  right:0;
  margin:auto;
  width:14px;
  height:2px;
  background:#cbd5e1;
}

.hamburger .bar::before{transform:translateY(-6px)}
.hamburger .bar::after{transform:translateY(6px)}

/* Hide dropdowns on mobile, show hamburger */
@media (max-width:860px){
  .nav-links{display:none}
  .hamburger{display:inline-flex;margin-left:auto}
  .navbar{padding:1rem 1rem}
}

/* Prevent horizontal scroll on smaller desktops */
@media (max-width:1024px) and (min-width:861px){
  .logo{
    font-size:1.4rem;
  }
  .nav-link{
    padding:0.6rem 0.85rem;
    font-size:0.85rem;
  }
  .navbar{
    padding:1rem 1rem;
  }
}

.hero{text-align:center;padding:3rem 1rem 3.25rem}
.hero-content h1{font-family:'Montserrat',sans-serif;font-weight:900;font-size:2.3rem;margin-bottom:.85rem;color:#f8fafc}
.hero-content p{color:#cbd5e1}

.shell{display:flex;justify-content:center;padding:0 1rem 2.2rem}
.workbench{width:100%;max-width:1100px;display:grid;grid-template-columns:1.1fr .9fr;gap:26px;align-items:stretch}
@media (max-width:980px){.workbench{grid-template-columns:1fr}}
.left-col{display:flex;flex-direction:column;gap:32px}
.fill{height:100%}

.card{background: rgba(17,24,39,0.6);border:1px solid rgba(148,163,184,0.18);border-radius:22px; padding:32px;box-shadow:0 10px 28px rgba(0,0,0,.35);display:flex; flex-direction:column}
.card-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:24px}
.card-head h2,.card-head h3{font-family:'Montserrat',sans-serif;color:#cbd5e1}
.head-actions{display:flex;gap:8px}
.eye{width:26px;height:26px;border-radius:999px;background:radial-gradient(10px 10px at 50% 50%, rgba(255,255,255,.2), rgba(255,255,255,0) 60%), rgba(17,24,39,0.7);border:1px solid rgba(255,255,255,.08)}
.chip{background:#12192c;border:1px solid rgba(255,255,255,.08);border-radius:999px;padding:.28rem .6rem;color:#cbd5e1;font-size:.86rem}
.chip.server{background:rgba(6,182,212,.15);border-color:rgba(6,182,212,.25);color:#9ee7f7}

.group{display:flex;flex-direction:column;gap:.85rem;margin-bottom:28px}
.group label{font-weight:600;color:#cbd5e1;font-size:1.05rem;margin-bottom:4px}

/* Speedometer Container */
.speedometer-container {
  background: rgba(15,21,38,.45);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 16px;
  padding: 26px;
  text-align: center;
}

.gauge-svg {
  width: 100%;
  max-width: 220px;
  height: auto;
  margin: 0 auto 16px;
  display: block;
  filter: drop-shadow(0 4px 16px rgba(139,92,246,0.25));
}

/* Needle rotation animation */
#needle {
  transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Arc animation during test */
.testing #speedArc {
  animation: arcPulse 2s ease-in-out infinite;
}

@keyframes arcPulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.4; }
}

/* Speed Readout */
.speed-readout {
  display: flex;
  align-items: baseline;
  justify-content: center;
  gap: 8px;
  margin-bottom: 12px;
}

.speed-value {
  font-size: 3rem;
  font-weight: 900;
  font-family: 'Montserrat', sans-serif;
  background: linear-gradient(135deg, #8b5cf6, #06b6d4);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  line-height: 1;
}

.speed-unit {
  font-size: 1.2rem;
  color: #cbd5e1;
  font-weight: 600;
}

.test-status {
  color: #aeb9d4;
  font-size: .95rem;
  line-height: 1.6;
}

/* Button */
.btn{background:#0f1526;color:#e5e7eb;border:1px solid rgba(255,255,255,.12);padding:1.05rem 1.5rem;border-radius:12px;cursor:pointer;transition:.2s;font-size:1rem}
.btn:hover{border-color:rgba(255,255,255,.22);background:#101a2e}
.btn.primary{background:linear-gradient(45deg,#8b5cf6,#06b6d4);color:#0b1323;border:none;font-weight:600}
.btn:disabled{opacity:.6;cursor:not-allowed}
.btn.full-width{width:100%;display:flex;align-items:center;justify-content:center;gap:8px}
.btn-icon{font-size:1.3em}

.actions{display:flex;justify-content:flex-end;margin-top:32px;gap:14px}
.stick-bottom{margin-top:auto}

/* Progress */
.progress{height:14px;background:#0c1426;border:1px solid rgba(255,255,255,.08);border-radius:999px;overflow:hidden;margin:10px 0}
.progress .bar{height:100%;width:0;background:linear-gradient(90deg,#8b5cf6,#06b6d4);transition:width .45s cubic-bezier(.22,.61,.36,1);box-shadow:0 0 12px rgba(139,92,246,0.6)}

/* Status & Results */
.status-wrap{display:flex;flex-direction:column;gap:20px}
.status-line{color:#aeb9d4;font-size:1.02rem;line-height:1.6}
.dim{opacity:.9}

.stack{display:flex;flex-direction:column;gap:18px}
.mt-1{margin-top:16px}

/* KPI Cards */
.kpi{background:#0f1526;border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:20px;text-align:center}
.kpi-label{color:#aeb9d4;font-size:.98rem;margin-bottom:8px;font-weight:500}
.kpi-num{font-size:2.2rem;font-weight:900;font-family:'Montserrat',sans-serif;color:#e5e7eb;line-height:1}
.kpi-unit{color:#cbd5e1;font-size:.92rem;margin-top:6px;font-weight:500}

/* Bloc */
.bloc{background:#0f1526;border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:20px}
.bloc.subtle-bloc{background:#0e1527b3}
.bloc-head{margin-bottom:14px;display:flex;align-items:center;justify-content:space-between}
.bloc-head h4{font-size:1.08rem;font-weight:600;color:#cbd5e1}
.note{color:#aeb9d4;font-size:.95rem;line-height:1.6}

/* Test History */
.test-history {
  max-height: 280px;
  overflow-y: auto;
  scrollbar-width: thin;
  scrollbar-color: rgba(139,92,246,0.4) rgba(255,255,255,0.05);
}

.test-history::-webkit-scrollbar {
  width: 6px;
}

.test-history::-webkit-scrollbar-track {
  background: rgba(255,255,255,0.05);
  border-radius: 3px;
}

.test-history::-webkit-scrollbar-thumb {
  background: rgba(139,92,246,0.4);
  border-radius: 3px;
}

.history-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 0;
  border-bottom: 1px solid rgba(255,255,255,0.08);
  font-size: 0.9rem;
}

.history-item:last-child {
  border-bottom: none;
}

.history-speeds {
  display: flex;
  gap: 14px;
  color: #cbd5e1;
  font-weight: 500;
}

.history-time {
  color: #9ca3af;
  font-size: 0.85rem;
}

.empty-state {
  text-align: center;
  color: #64748b;
  padding: 2rem 1rem;
  font-style: italic;
  font-size: 0.9rem;
}

/* Quality Badge Colors */
.quality-excellent { background: rgba(16,185,129,.2); color: #6ee7b7; border-color: rgba(16,185,129,.3); }
.quality-good { background: rgba(6,182,212,.2); color: #67e8f9; border-color: rgba(6,182,212,.3); }
.quality-fair { background: rgba(245,158,11,.2); color: #fcd34d; border-color: rgba(245,158,11,.3); }
.quality-poor { background: rgba(239,68,68,.2); color: #fca5a5; border-color: rgba(239,68,68,.3); }

/* Animations */
.testing .speedometer-container {
  animation: glow 2s ease-in-out infinite;
}

@keyframes glow {
  0%, 100% {
    box-shadow: 0 0 20px rgba(139,92,246,0.15);
  }
  50% {
    box-shadow: 0 0 30px rgba(139,92,246,0.3);
  }
}

.hidden{display:none}

.footer{text-align:center;padding:1.2rem;color:#9ca3af;margin-top:10px}

/* Route transitions */
:root{ --route-dur:.45s; --route-ease:cubic-bezier(.22,.61,.36,1) }
.page-curtain{ position:fixed; inset:0; pointer-events:none; z-index:9999; background: rgba(10,16,30,.72); backdrop-filter: blur(14px); -webkit-backdrop-filter: blur(14px); opacity:0; transform: translateY(10px); transition: opacity var(--route-dur) var(--route-ease), transform var(--route-dur) var(--route-ease)}
.route-content{ opacity:0; transform: translateY(10px) scale(.995); transition: opacity var(--route-dur) var(--route-ease), transform var(--route-dur) var(--route-ease)}
.route-ready .route-content{ opacity:1; transform: translateY(0) scale(1) }

.mobile-drawer{position:fixed;top:0;right:0;bottom:0;width:72%;max-width:300px;background:rgba(15,21,38,0.96);border-left:1px solid rgba(255,255,255,.08);box-shadow:-20px 0 40px rgba(0,0,0,.45);transform:translateX(100%);transition:transform .32s cubic-bezier(.22,.61,.36,1);z-index:10000;padding:16px 14px 20px}
.mobile-drawer.open{transform:translateX(0)}
.drawer-nav{display:flex;flex-direction:column;gap:10px;margin-top:6px}
.drawer-nav a{color:#e5e7eb;text-decoration:none;padding:.85rem .9rem;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#0f1526}
.drawer-nav a.active{background:rgba(167,139,250,.2);color:#fff}
.drawer-backdrop{position:fixed;inset:0;background:rgba(8,12,22,.55);backdrop-filter: blur(2px);-webkit-backdrop-filter: blur(2px);z-index:9999}
.no-scroll{overflow:hidden}

.global-drop{position:fixed; inset:0; z-index:12000; pointer-events:none; opacity:0; transform:translateY(6px); background: rgba(10,16,30,0.45); backdrop-filter: blur(10px) saturate(120%); -webkit-backdrop-filter: blur(10px) saturate(120%); box-shadow: inset 0 0 0 1px rgba(148,163,184,0.15); transition: opacity .25s ease, transform .25s ease}
.global-drop.show{opacity:1; transform:translateY(0); pointer-events:auto}
.gd-panel{position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); background: rgba(17,24,39,0.85); border: 1px dashed rgba(148,163,184,.38); border-radius: 16px; padding: 22px 26px; box-shadow: 0 16px 40px rgba(0,0,0,.5)}
.gd-ico{text-align:center; font-size:1.4rem; margin-bottom:8px}
.gd-text{text-align:center; color:#e6edff; font-weight:800; letter-spacing:.2px}

/* Responsive adjustments */
@media (max-width: 680px) {
  .speed-value {
    font-size: 2.5rem;
  }
  
  .kpi-num {
    font-size: 1.9rem;
  }
  
  .gauge-svg {
    max-width: 180px;
  }
  
  .history-speeds {
    flex-direction: column;
    gap: 6px;
  }
}
